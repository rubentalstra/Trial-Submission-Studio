[package]
name = "tss-gui"
version.workspace = true
edition.workspace = true
rust-version.workspace = true
license.workspace = true
description = "Trial Submission Studio - Desktop GUI Application"
default-run = "trial-submission-studio"

[lib]
name = "tss_gui"
path = "src/lib.rs"

[[bin]]
name = "trial-submission-studio"
path = "src/main.rs"

[dependencies]
# GUI framework
eframe = "0.33.3"
egui = "0.33.3"
egui_extras = { version = "0.33.3", features = ["all_loaders", "svg", "svg_text"] }

# Workspace dependencies
tss-common = { path = "../tss-common" }
tss-model = { path = "../tss-model" }
tss-standards = { path = "../tss-standards" }
tss-ingest = { path = "../tss-ingest" }
tss-map = { path = "../tss-map" }
tss-normalization = { path = "../tss-normalization" }
tss-validate = { path = "../tss-validate" }
tss-output = { path = "../tss-output" }
tss-xpt = { path = "../tss-xpt" }
tss-updater = { path = "../tss-updater" }

# Common dependencies
anyhow.workspace = true
polars.workspace = true
serde.workspace = true
serde_json.workspace = true
tracing.workspace = true
tracing-subscriber.workspace = true
chrono.workspace = true

# GUI-specific
image = { version = "0.25", default-features = false, features = ["png"] } # Icon loading
rfd = "0.16.0"             # Native file dialogs
egui-phosphor = "0.11.0"   # Icon set
egui_commonmark = "0.22.0" # Markdown rendering
open = "5.3"               # Open URLs in browser

# Settings & menu
directories = "6.0"          # Cross-platform app directories
toml = "0.9.8"               # Config file format
muda = "0.17.1"              # Native menu bar (by Tauri team)
crossbeam-channel = "0.5.15" # Required by muda for menu event receiver

# Platform-specific
[target.'cfg(target_os = "macos")'.dependencies]
winit = "0.30.12" # Needed for EventLoopBuilderExtMacOS trait

[target.'cfg(windows)'.build-dependencies]
winresource = "0.1"

[lints]
workspace = true
